<div data-controller="lobby"
     data-lobby-code-value="<%= @lobby.code %>"
     id="<%= dom_id(@lobby) %>">
<div class="container-lobby mh-100">
  <div class="row mh-100">
    <div class="col-5 col-md-5 col-lg-4 col-xl-3">
      <div class="overflow-scroll bg-light p-2 players-container">
        <div class="d-flex align-items-center py-3 bg-white p-1 mb-1 lobby-owner lobby-player">
          <div class="avatar avatar-small me-3">
            <%= image_tag "avatar.png", class: 'img-fluid rounded-circle border-2 border-primary border' %>
          </div>
          <div class="name flex-grow-1">
            <p class="lh-1">Apprentice</p>
            <h4 class="m-0 lh-1"><%= @lobby.owner.username %></h4>
          </div>
          <div class="d-flex flex-column justify-content-between align-items-center">
            <div class="user-badge mb-2">
              <%= image_tag "Vector.svg" %>
            </div>
            <div class="user-badge">
              <i class="far fa-check-circle"></i>
            </div>
          </div>
        </div>
        <div id="players">
          <%= render partial: 'player', collection: @lobby.games[0].users, as: :player %>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col d-flex justify-content-center">
          <%= button_tag 'INVITE', value: @lobby.code, id: 'lobbyCode', class: 'button large empty me-3' %>
          <%= button_tag "JOIN", data: { bs_toggle: "modal", bs_target: '#askLobby' }, class: 'button large filled' %>
        </div>
        <div id="alert-container">
        </div>
      </div>
    </div>
    <!-- MODAL -->
    <div class="modal fade" id="askLobby" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <%= simple_form_for(@lobby, url: lobby_code_path(@lobby.code)) do |f| %>
            <%= f.input :code,
                        required: true,
                        class: 'form-control p-2',
                        placeholder: 'lobby code' %>
            <%= f.submit 'JOIN', class: 'button large filled' %>
          <% end %>
        </div>
      </div>
    </div>
    <!-- MODAL -->
    <div class="col-7 col-md-7 col-lg-8 col-xl-9 d-flex flex-column mt-3" style="height: 60vh;">
      <div class="d-flex mb-2 ms-4 align-items-center justify-content-between mt-2">
        <div class="d-flex justify-content-center align-items-center position-relative">
        <%= button_to '← Back', destroy_user_session_path, method: "delete", class: 'btn-enter-outline', data: {remote: false} %>
        <h2 class="text-uppercase font-weight-bold me-5 fs-4"> Game modes</h2>
        </div>
          <%= link_to 'Start', start_path, class: 'btn-enter me-5' %>
      </div>
      <div class="container w-100 overflow-scroll" style="height: 70%;">
        <div class="col-6 bg-light d-flex w-100 p-3 modes-container" style="flex-wrap: wrap;">
          <div class="col-12 col-lg-5 d-flex justify-content-center align-items-center m-1 rounded-3 game-mode"  <%#  %>style="height: 170px">
            <h2>👼</h2>
            <p>Easy peasy</p>
          </div>
          <div class="col-12 col-lg-5 d-flex justify-content-center align-items-center m-1 rounded-3 game-mode"  <%#  %>style="height: 170px">
            <h2>🤓</h2>
            <p>Master level</p>
          </div>
          <div class="col-12 col-lg-5 d-flex justify-content-center align-items-center m-1 rounded-3 game-mode"  <%#  %>style="height: 170px">
            <h2>💣</h2>
            <p>No help</p>
          </div>
          <div class="col-12 col-lg-5 d-flex justify-content-center align-items-center m-1 rounded-3 game-mode"  <%#  %>style="height: 170px">
            <h2>💀</h2>
            <p>R.I.P</p>
          </div>
        </div>
      </div>
        <div class="col-11 align-self-center mt-4">
          <div class="overflow-scroll row message_board" style="height:25vh">
            This is the message board
            <div class="input-group align-content-end mb-2">
              <input type="text" class="form-control" aria-label="Dollar amount (with dot and two decimal places)">
              <span class="input-group-text"><i class="fas fa-paper-plane"></i></span>
            </div>
          </div>
        </div>
    </div>
  </div>
</div>
</div>
<!-- <h1>Lobbies#show</h1>
<p>Find me in app/views/lobbies/show.html.erb</p>
<p>Logged in as: <%= current_user.email %></p>
<p>Lobby owner: <%= @lobby.owner.email %></p>
<p>Lobby owner: <%= @lobby.owner.username %></p>
<p>Lobby code: <%= @lobby.code %></p>  ––>
